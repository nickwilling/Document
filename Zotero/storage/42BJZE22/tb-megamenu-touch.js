Drupal.TBMegaMenu=Drupal.TBMegaMenu||{};
(function($){Drupal.TBMegaMenu.createTouchMenu=function(items){items.children("a").each(function(){var $item=$(this);var tbitem=$(this).parent();$item.click(function(event){if($item.hasClass("tb-megamenu-clicked")){var $uri=$item.attr("href");window.location.href=$uri}else{event.preventDefault();$item.addClass("tb-megamenu-clicked");if(!tbitem.hasClass("open"))tbitem.addClass("open")}}).closest("li").mouseleave(function(){$item.removeClass("tb-megamenu-clicked");tbitem.removeClass("open")})})};Drupal.TBMegaMenu.eventStopPropagation=
function(event){if(event.stopPropagation)event.stopPropagation();else if(window.event)window.event.cancelBubble=true};Drupal.behaviors.tbMegaMenuTouchAction={attach:function(context){var isTouch="ontouchstart"in window&&!/hp-tablet/gi.test(navigator.appVersion);if(isTouch){$("html").addClass("touch");Drupal.TBMegaMenu.createTouchMenu($(".tb-megamenu ul.nav li.mega").has(".dropdown-menu"))}}}})(jQuery);